<?xml version="1.0" encoding="UTF-8"?>
<spiderman name="单篇分页">
    <property key="duration" value="0" /><!-- 运行时间 0 表示永久，可以给 {n}s {n}m {n}h {n}d -->
    <property key="logger.level" value="INFO" /><!-- 日志级别 INFO DEBUG WARN ERROR OFF -->
    <property key="worker.download.size" value="1" /><!-- 下载线程数 -->
    <property key="worker.extract.size" value="1" /><!-- 页面抽取线程数 -->
    <property key="worker.result.size" value="1" /><!-- 结果处理线程数 -->
    <property key="worker.result.limit" value="1" />
    <property key="worker.result.handler" value="net.kernal.spiderman.Bootstrap$ResultHandler" />
    <seed url="http://travel.163.com/14/0313/17/9N8002ON00063KE8.html" />
    <extract><!-- 页面抽取规则 -->
        <extractor name="Html" class="net.kernal.spiderman.worker.extract.HtmlCleanerExtractor" /><!-- Html抽取器 -->
        <extractor name="Links" class="net.kernal.spiderman.worker.extract.LinksExtractor" /><!-- 链接抽取器 -->
		<page name="详情页" extractor="Html">
			<url-match-rule type="regex" value=".*" />
			<model fieldNameForNextPageUrl="next" fieldNameForNextPageContent="content">
				<field name="next" xpath="//div[@class='ep-pages']//a[@class='ep-pages-ctrl']" attr="href" /><!-- 下一页 -->
				<field name="title" xpath="//title/text()" /><!-- 文章标题 -->
				<field name="intro" xpath="//p[@class='ep-summary']/text()" /><!-- 文章简介 -->
				<field name="content" xpath="(//div[@id='endText'])[1]/text()" /><!-- 文章内容 -->
			</model>
		</page>
	</extract>
</spiderman>
